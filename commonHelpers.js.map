{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst apiKey = '41588863-34d6c5c01e7f0c7c667666520';\n\nconst searchInput = document.querySelector('#search-input');\nconst imageContainer = document.querySelector('#image-container');\nconst loader = document.querySelector('.loader');\nconst form = document.querySelector('#search-form');\nconst lightbox = new SimpleLightbox('#image-container a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  const query = searchInput.value.trim();\n\n  if (!query) {\n    clearImages();\n    return;\n  }\n\n  loader.style.display = 'block';\n  const apiUrl = `https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  fetch(apiUrl)\n    .then(response => response.json())\n    .then(data => {\n      loader.style.display = 'none';\n      if (Array.isArray(data.hits) && data.hits.length > 0) {\n        renderImages(data.hits);\n        lightbox.refresh();\n        searchInput.value = '';\n      } else {\n        clearImages();\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: 'white',\n          backgroundColor: 'red',\n          position: 'topRight',\n        });\n        searchInput.value = '';\n      }\n    })\n    .catch(() => {\n      loader.style.display = 'none';\n      console.error('Error!');\n    });\n}\n\nfunction renderImages(images) {\n  clearImages();\n  images.map(image => {\n    const imageCard = `\n      <div class=\"image-card\">\n        <a href=\"${image.largeImageURL}\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n          <div class=\"image-info\">\n            <p><strong>Likes:</strong> ${image.likes}</p>\n            <p><strong>Views:</strong> ${image.views}</p>\n            <p><strong>Comments:</strong> ${image.comments}</p>\n            <p><strong>Downloads:</strong> ${image.downloads}</p>\n          </div>\n        </a>\n      </div>\n    `;\n    imageContainer.innerHTML += imageCard;\n  });\n}\n\nfunction clearImages() {\n  imageContainer.innerHTML = '';\n}\n"],"names":["apiKey","searchInput","imageContainer","loader","form","lightbox","SimpleLightbox","onFormSubmit","event","query","clearImages","apiUrl","response","data","renderImages","iziToast","images","image","imageCard"],"mappings":"6vBAKA,MAAMA,EAAS,qCAETC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAiB,SAAS,cAAc,kBAAkB,EAC1DC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAW,IAAIC,EAAe,qBAAsB,CACxD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAQR,EAAY,MAAM,KAAI,EAEpC,GAAI,CAACQ,EAAO,CACVC,IACA,MACD,CAEDP,EAAO,MAAM,QAAU,QACvB,MAAMQ,EAAS,gCAAgCX,OAAYS,4DAE3D,MAAME,CAAM,EACT,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACZV,EAAO,MAAM,QAAU,OACnB,MAAM,QAAQU,EAAK,IAAI,GAAKA,EAAK,KAAK,OAAS,GACjDC,EAAaD,EAAK,IAAI,EACtBR,EAAS,QAAO,EAChBJ,EAAY,MAAQ,KAEpBS,IACAK,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,QACd,gBAAiB,MACjB,SAAU,UACpB,CAAS,EACDd,EAAY,MAAQ,GAE5B,CAAK,EACA,MAAM,IAAM,CACXE,EAAO,MAAM,QAAU,OACvB,QAAQ,MAAM,QAAQ,CAC5B,CAAK,CACL,CAEA,SAASW,EAAaE,EAAQ,CAC5BN,IACAM,EAAO,IAAIC,GAAS,CAClB,MAAMC,EAAY;AAAA;AAAA,mBAEHD,EAAM;AAAA,sBACHA,EAAM,sBAAsBA,EAAM;AAAA;AAAA,yCAEfA,EAAM;AAAA,yCACNA,EAAM;AAAA,4CACHA,EAAM;AAAA,6CACLA,EAAM;AAAA;AAAA;AAAA;AAAA,MAK/Cf,EAAe,WAAagB,CAChC,CAAG,CACH,CAEA,SAASR,GAAc,CACrBR,EAAe,UAAY,EAC7B"}